<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/DATABASE.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/DATABASE.md" />
              <option name="updatedContent" value="# Docker PostgreSQL Setup Guide&#10;&#10;##  การใช้งาน PostgreSQL Database&#10;&#10;### 1. เริ่มต้น PostgreSQL Container&#10;&#10;```bash&#10;# เริ่มต้น PostgreSQL&#10;docker-compose up -d&#10;&#10;# ตรวจสอบสถานะ&#10;docker-compose ps&#10;&#10;# ดู logs&#10;docker-compose logs -f postgres&#10;```&#10;&#10;### 2. เชื่อมต่อกับ Database&#10;&#10;**ข้อมูลการเชื่อมต่อ:**&#10;- Host: `localhost`&#10;- Port: `5432`&#10;- Database: `insiderdb`&#10;- Username: `insider`&#10;- Password: `insider123`&#10;&#10;**เชื่อมต่อด้วย psql CLI:**&#10;```bash&#10;docker exec -it insider-postgres psql -U insider -d insiderdb&#10;```&#10;&#10;### 3. รัน Spring Boot Application&#10;&#10;```bash&#10;# รันแบบปกติ&#10;./mvnw spring-boot:run&#10;&#10;# หรือรันใน IntelliJ IDEA&#10;# Right-click InsiderApiApplication.java -&gt; Run&#10;```&#10;&#10;### 4. หยุดและลบ Container&#10;&#10;```bash&#10;# หยุด container&#10;docker-compose stop&#10;&#10;# หยุดและลบ container&#10;docker-compose down&#10;&#10;# ลบรวมทั้ง data (ระวัง! ข้อมูลจะหายหมด)&#10;docker-compose down -v&#10;```&#10;&#10;---&#10;&#10;##  Build Docker Image ของ Application (ถ้าต้องการ)&#10;&#10;```bash&#10;# Build image&#10;docker build -t insider-api:latest .&#10;&#10;# Run container&#10;docker run -p 8080:8080 \&#10;  -e SPRING_DATASOURCE_URL=jdbc:postgresql://host.docker.internal:5432/insiderdb \&#10;  insider-api:latest&#10;```&#10;&#10;---&#10;&#10;##  Database Configuration&#10;&#10;ไฟล์ `application.properties` มีการตั้งค่าดังนี้:&#10;&#10;```properties&#10;spring.datasource.url=jdbc:postgresql://localhost:5432/insiderdb&#10;spring.datasource.username=insider&#10;spring.datasource.password=insider123&#10;spring.jpa.hibernate.ddl-auto=update&#10;```&#10;&#10;**หมายเหตุ:**&#10;- `ddl-auto=update` - Hibernate จะสร้าง/อัพเดทตารางอัตโนมัติ&#10;- ถ้าต้องการให้ Hibernate สร้างตารางใหม่ทุกครั้ง ให้เปลี่ยนเป็น `create`&#10;- ถ้าต้องการจัดการ schema เอง ให้เปลี่ยนเป็น `validate` หรือ `none`&#10;&#10;---&#10;&#10;##  ตัวอย่างการใช้งาน&#10;&#10;### ดูข้อมูลในฐานข้อมูล&#10;&#10;```sql&#10;-- เข้าสู่ PostgreSQL&#10;docker exec -it insider-postgres psql -U insider -d insiderdb&#10;&#10;-- ดูตารางทั้งหมด&#10;\dt&#10;&#10;-- ดูโครงสร้างตาราง&#10;\d table_name&#10;&#10;-- Query ข้อมูล&#10;SELECT * FROM your_table;&#10;&#10;-- ออกจาก psql&#10;\q&#10;```&#10;&#10;---&#10;&#10;##  เปลี่ยน Password (แนะนำสำหรับ Production)&#10;&#10;แก้ไขไฟล์ `docker-compose.yml`:&#10;&#10;```yaml&#10;environment:&#10;  POSTGRES_PASSWORD: your_strong_password_here&#10;```&#10;&#10;และแก้ไขไฟล์ `application.properties`:&#10;&#10;```properties&#10;spring.datasource.password=your_strong_password_here&#10;```&#10;&#10;---&#10;&#10;## ⚠️ Troubleshooting&#10;&#10;### Port 5432 ถูกใช้งานอยู่แล้ว?&#10;&#10;แก้ไขไฟล์ `docker-compose.yml`:&#10;```yaml&#10;ports:&#10;  - &quot;5433:5432&quot;  # เปลี่ยน port ภายนอกเป็น 5433&#10;```&#10;&#10;และแก้ไข `application.properties`:&#10;```properties&#10;spring.datasource.url=jdbc:postgresql://localhost:5433/insiderdb&#10;```&#10;&#10;### ลืม Password?&#10;&#10;```bash&#10;docker-compose down&#10;docker volume rm insider-boardgame-api_postgres_data&#10;docker-compose up -d&#10;```&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>